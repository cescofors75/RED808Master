; ================================
; ESP32-S3 N16R8 (16MB Flash / 8MB PSRAM)
; ================================

[env:esp32-s3-devkitc-1]
platform = espressif32
board = esp32-s3-devkitc-1
framework = arduino

; ================================
; CONFIGURACIÓN DE MEMORIA (N16R8)
; ================================
; Flash: 16MB (Quad IO)
board_build.flash_mode = qio
board_upload.flash_size = 16MB
board_upload.maximum_size = 16777216

; PSRAM: 8MB (Octal mode - OPI)
board_build.arduino.memory_type = qio_opi
board_build.psram_type = opi

; ================================
; Particiones (Custom 11MB para Samples)
; ================================
board_build.partitions = partitions_custom.csv
board_build.filesystem = littlefs

; ================================
; Flags de Compilación
; ================================
build_flags =
    -DBOARD_HAS_PSRAM
    -mfix-esp32-psram-cache-issue
    -DARDUINO_USB_MODE=1
    -DARDUINO_USB_CDC_ON_BOOT=1

; ================================
; Upload & Monitor
; ================================
upload_speed = 921600
monitor_speed = 115200
monitor_filters = esp32_exception_decoder, time
build_type = debug

; ================================
; Librerías
; ================================
lib_deps =
    bodmer/TFT_eSPI@^2.5.43
    adafruit/Adafruit NeoPixel@^1.12.0
    ottowinter/ESPAsyncWebServer-esphome@^3.1.0
    bblanchon/ArduinoJson@^6.21.3
